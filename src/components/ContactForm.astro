---

---

<div class="mx-auto mt-8 max-w-2xl">
  <form name="contact" method="POST" class="space-y-6">
    <div class="sr-only">
      <label for="bot-field">Don't fill this out if you're human:</label>
      <input name="bot-field" />
    </div>

    <div>
      <label
        for="name"
        class="mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"
      >
        Name
      </label>
      <input
        type="text"
        id="name"
        name="name"
        required
        class="w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"
      />
    </div>

    <div>
      <label
        for="email"
        class="mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"
      >
        Email
      </label>
      <input
        type="email"
        id="email"
        name="email"
        required
        class="w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"
      />
    </div>

    <div>
      <label
        for="subject"
        class="mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"
      >
        Subject
      </label>
      <input
        type="text"
        id="subject"
        name="subject"
        required
        class="w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"
      />
    </div>

    <div>
      <label
        for="message"
        class="mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"
      >
        Message
      </label>
      <textarea
        id="message"
        name="message"
        rows="6"
        required
        placeholder="Tell us about your project, idea, or how we can help..."
        class="w-full resize-y rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm focus:border-accent focus:outline-none focus:ring-2 focus:ring-accent dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100"
      ></textarea>
    </div>

    <button
      type="submit"
      class="w-full rounded-lg bg-gray-900 px-6 py-3 font-medium text-white transition-colors duration-200 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 dark:bg-white dark:text-gray-900 dark:hover:bg-gray-100 dark:focus:ring-white"
    >
      Send Message
    </button>
  </form>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.querySelector('form[name="contact"]')
    if (!(form instanceof HTMLFormElement)) return

    const submitButton = form.querySelector('button[type="submit"]')
    if (!(submitButton instanceof HTMLButtonElement)) return

    form.addEventListener('submit', async (event) => {
      event.preventDefault()

      const originalText = submitButton.textContent || 'Send Message'
      submitButton.textContent = 'Sending...'
      submitButton.disabled = true

      const formData = new FormData(form)
      const serialized: Record<string, string> = {}
      formData.forEach((value, key) => {
        serialized[key] = typeof value === 'string' ? value : String(value)
      })

      try {
        const response = await fetch('/.netlify/functions/contact-form', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
          },
          body: new URLSearchParams(serialized)
        })

        const result = await response.json()

        if (response.ok) {
          // GTM/GA4 event
          ;(window as unknown as { dataLayer: unknown[] }).dataLayer =
            (window as unknown as { dataLayer: unknown[] }).dataLayer || []
          ;(window as unknown as { dataLayer: unknown[] }).dataLayer.push({
            event: 'contact_form_submit',
            form_name: 'contact',
            status: 'success'
          })

          form.innerHTML =
            '<div class="text-center py-8"><div class="text-green-600 dark:text-green-400 text-lg font-medium mb-2">âœ… Message sent successfully!</div><p class="text-gray-600 dark:text-gray-400">Thank you for your message. We will get back to you soon.</p></div>'
        } else {
          throw new Error(result.message || 'Something went wrong')
        }
      } catch (error) {
        console.error('Error:', error)
        alert('There was an error sending your message. Please try again.')
        ;(window as unknown as { dataLayer: unknown[] }).dataLayer =
          (window as unknown as { dataLayer: unknown[] }).dataLayer || []
        ;(window as unknown as { dataLayer: unknown[] }).dataLayer.push({
          event: 'contact_form_submit',
          form_name: 'contact',
          status: 'error'
        })

        submitButton.textContent = originalText
        submitButton.disabled = false
      }
    })
  })
</script>
