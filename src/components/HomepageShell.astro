---
import ToolStackSection from '@/components/ToolStackSection.astro'
import { toMonthString } from '@/util'
import { getProjects } from '@/util/projects'
import { getEntry, type CollectionEntry } from 'astro:content'

type ProjectEntry = CollectionEntry<'projects'>
type ProjectHomepageMeta = NonNullable<ProjectEntry['data']['homepage']>

const homepageEntry = await getEntry('homepage', 'structure')

if (!homepageEntry) {
  throw new Error(
    'Homepage data is missing. Ensure src/content/homepage/structure.json exists.'
  )
}

const homepageData = homepageEntry.data

const projects = await getProjects()

const featuredProjects = projects
  .filter((project) => project.data.homepage?.featured ?? false)
  .sort(
    (a, b) =>
      (a.data.homepage?.order ?? Number.MAX_SAFE_INTEGER) -
      (b.data.homepage?.order ?? Number.MAX_SAFE_INTEGER)
  )

const truncate = (text: string, max = 200) => {
  const normalized = text.trim()
  if (normalized.length <= max) return normalized
  return `${normalized.slice(0, max - 1).trimEnd()}…`
}

const ventureProjects = featuredProjects.map((project) => {
  const meta: Partial<ProjectHomepageMeta> = project.data.homepage ?? {}
  const tag =
    meta.tag ?? (project.data.tags.length ? project.data.tags[0] : 'AI Venture')
  const focus =
    meta.focus ??
    (project.data.tags.length
      ? project.data.tags.slice(0, 2).join(' • ')
      : 'AI-native venture')
  const summary = meta.summary ?? truncate(project.data.description)
  const metricLabel = meta.metricLabel ?? 'Since'
  const metricValue = meta.metricValue ?? toMonthString(project.data.startDate)
  const href = meta.href ?? project.data.url ?? `/projects/${project.slug}`

  return {
    tag,
    name: project.data.title,
    focus,
    summary,
    status: {
      label: meta.statusLabel ?? 'Active',
      tone: meta.statusTone ?? 'active'
    },
    metric: {
      label: metricLabel,
      value: metricValue
    },
    href
  }
})

const ventureCards =
  ventureProjects.length > 0 ? ventureProjects : homepageData.ventures.companies

const getStatusBadgeClass = (tone: string) =>
  (
    ({
      active: 'text-emerald-300 border-emerald-400/40 bg-emerald-500/10',
      building: 'text-amber-300 border-amber-400/40 bg-amber-500/10',
      exploring: 'text-sky-300 border-sky-400/40 bg-sky-500/10'
    }) as const
  )[tone as 'active' | 'building' | 'exploring'] ??
  'text-emerald-300 border-emerald-400/40 bg-emerald-500/10'

const getStatusDotClass = (tone: string) =>
  (
    ({
      active: 'bg-emerald-400 shadow-[0_0_12px_rgba(16,185,129,0.7)]',
      building: 'bg-amber-400 shadow-[0_0_12px_rgba(251,191,36,0.7)]',
      exploring: 'bg-sky-400 shadow-[0_0_12px_rgba(56,189,248,0.7)]'
    }) as const
  )[tone as 'active' | 'building' | 'exploring'] ??
  'bg-emerald-400 shadow-[0_0_12px_rgba(16,185,129,0.7)]'

const memberStatusClassMap = {
  active: 'ai-status-pill--active',
  hiring: 'ai-status-pill--hiring'
} as const

const getMemberStatusClass = (status: string) =>
  `ai-status-pill ${
    memberStatusClassMap[status as keyof typeof memberStatusClassMap] ??
    memberStatusClassMap.active
  }`

const getMemberStatusLabel = (status: string, label?: string) =>
  label ?? (status === 'hiring' ? 'Recruiting' : 'Active')
---

<div class="homepage-shell space-y-16 sm:space-y-20">
  <section
    data-reveal
    class="hero-shell relative overflow-hidden rounded-[32px] border border-white/10 bg-gradient-to-br from-[#0f172a] via-[#111f3b] to-[#0b0f1d] px-6 py-12 text-white shadow-2xl sm:px-10 sm:py-16"
  >
    <div
      class="absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(14,165,233,0.35),_transparent_55%)]"
      aria-hidden="true"
    >
    </div>
    <div class="relative grid gap-10 lg:grid-cols-2">
      <div class="space-y-6">
        <p
          class="text-xs font-semibold uppercase tracking-[0.5em] text-sky-200/80"
        >
          {homepageData.hero.eyebrow}
        </p>
        <h1
          class="text-4xl font-semibold leading-tight sm:text-5xl lg:text-6xl"
        >
          {homepageData.hero.headline}
        </h1>
        <p class="max-w-2xl text-lg text-white/80">
          {homepageData.hero.subheadline}
        </p>
        <div class="flex flex-wrap gap-3 text-sm font-semibold text-slate-200">
          {
            homepageData.hero.badges.map((badge) => (
              <span class="hero-badge">{badge.label}</span>
            ))
          }
        </div>
        <div class="flex flex-col gap-3 sm:flex-row">
          <a
            href={homepageData.hero.primaryCta.href}
            class="group inline-flex items-center justify-center gap-2 rounded-2xl bg-white px-7 py-3 text-base font-semibold text-gray-900 transition-all duration-300 hover:translate-y-0.5"
          >
            <span>{homepageData.hero.primaryCta.label}</span>
            <svg
              class="h-5 w-5 transition-transform duration-300 group-hover:translate-x-1"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
          <a
            href={homepageData.hero.secondaryCta.href}
            class="inline-flex items-center justify-center gap-2 rounded-2xl border border-white/30 px-7 py-3 text-base font-semibold text-white transition-colors hover:border-white/60"
          >
            {homepageData.hero.secondaryCta.label}
          </a>
        </div>
        <p class="text-xs uppercase tracking-[0.6em] text-white/50">
          {homepageData.hero.supportingLine}
        </p>
      </div>
      <div
        class="glass-panel relative rounded-[28px] border border-white/10 bg-white/5 p-6 backdrop-blur"
      >
        <div
          class="absolute inset-0 rounded-[28px] border border-white/5 bg-gradient-to-b from-white/5 to-transparent"
          aria-hidden="true"
        >
        </div>
        <div class="hero-stats-grid">
          {
            homepageData.hero.stats.map((stat, index) => (
              <div
                class="hero-stat"
                data-reveal
                style={`--reveal-delay:${index * 60}ms`}
              >
                <p class="hero-stat-label">{stat.label}</p>
                <p class="hero-stat-value">{stat.value}</p>
                <p class="hero-stat-detail">{stat.detail}</p>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>

  <section id="ventures" class="section-shell space-y-8" data-reveal>
    <div class="space-y-3">
      <p class="text-xs uppercase tracking-[0.4em] text-accent/80">
        {homepageData.ventures.eyebrow}
      </p>
      <div
        class="flex flex-col gap-3 lg:flex-row lg:items-end lg:justify-between"
      >
        <div>
          <h2 class="text-3xl font-semibold text-gray-900 dark:text-white">
            {homepageData.ventures.title}
          </h2>
          <p class="max-w-2xl text-base text-gray-600 dark:text-gray-300">
            {homepageData.ventures.description}
          </p>
        </div>
        <div class="flex flex-wrap gap-2">
          {
            homepageData.ventures.filters.map((filter) => (
              <span class="filter-chip">{filter.label}</span>
            ))
          }
        </div>
      </div>
    </div>
    <div class="grid gap-6 lg:grid-cols-2">
      {
        ventureCards.map((company, index) => (
          <article
            class="venture-card"
            data-reveal
            style={`--reveal-delay:${index * 70}ms`}
          >
            <div class="grid gap-4 sm:grid-cols-[minmax(0,1fr)_auto] sm:items-start">
              <div>
                <p class="text-xs uppercase tracking-[0.4em] text-gray-500 dark:text-gray-400">
                  {company.tag}
                </p>
                <h3 class="mt-2 text-2xl font-semibold text-gray-900 dark:text-white">
                  {company.name}
                </h3>
                <p class="text-sm text-gray-500 dark:text-gray-400">
                  {company.focus}
                </p>
              </div>
              <div class="flex items-center justify-end">
                <span
                  class={`status-pill ${getStatusBadgeClass(company.status.tone)}`}
                >
                  <span
                    class={`status-dot ${getStatusDotClass(company.status.tone)}`}
                  />
                  {company.status.label}
                </span>
              </div>
            </div>
            <p class="mt-4 max-w-[48ch] text-base leading-relaxed text-gray-600 dark:text-gray-300">
              {company.summary}
            </p>
            <div class="mt-6 flex flex-wrap items-center justify-between gap-4">
              <div>
                <p class="text-xs uppercase tracking-[0.3em] text-gray-500">
                  {company.metric.label}
                </p>
                <p class="text-2xl font-semibold text-gray-900 dark:text-white">
                  {company.metric.value}
                </p>
              </div>
              {company.href && (
                <a
                  href={company.href}
                  class="inline-flex items-center gap-2 text-sm font-semibold text-accent"
                >
                  View venture
                  <svg
                    class="h-4 w-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5 12h14M12 5l7 7-7 7"
                    />
                  </svg>
                </a>
              )}
            </div>
          </article>
        ))
      }
    </div>
  </section>

  <section class="section-shell signals-grid" data-reveal>
    <div class="space-y-4">
      <p class="text-xs uppercase tracking-[0.4em] text-accent/80">
        {homepageData.signals.eyebrow}
      </p>
      <div class="grid gap-6 lg:grid-cols-[minmax(0,0.8fr)_1fr]">
        <div>
          <h2 class="text-3xl font-semibold text-gray-900 dark:text-white">
            {homepageData.signals.title}
          </h2>
          <p class="mt-3 text-base text-gray-600 dark:text-gray-300">
            {homepageData.signals.description}
          </p>
          <div class="mt-6 flex flex-wrap gap-3">
            {
              homepageData.signals.tags.map((tag, index) => (
                <span class="signal-tag" style={`--tag-index:${index}`}>
                  {tag}
                </span>
              ))
            }
          </div>
        </div>
        <div class="grid gap-4">
          {
            homepageData.signals.highlights.map((highlight, index) => (
              <div
                class="signal-card"
                data-reveal
                style={`--reveal-delay:${index * 60}ms`}
              >
                <p class="text-xs uppercase tracking-[0.3em] text-gray-500">
                  {highlight.label}
                </p>
                <p class="mt-2 text-base text-gray-800 dark:text-gray-100">
                  {highlight.detail}
                </p>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>

  <section id="operating-system" class="section-shell space-y-8" data-reveal>
    <div class="space-y-3">
      <p class="text-xs uppercase tracking-[0.4em] text-accent/80">
        {homepageData.operatingSystem.eyebrow}
      </p>
      <h2 class="text-3xl font-semibold text-gray-900 dark:text-white">
        {homepageData.operatingSystem.title}
      </h2>
      <p class="max-w-2xl text-base text-gray-600 dark:text-gray-300">
        {homepageData.operatingSystem.description}
      </p>
    </div>
    <ol class="os-timeline">
      {
        homepageData.operatingSystem.phases.map((phase, index) => (
          <li
            class="os-phase"
            data-reveal
            style={`--reveal-delay:${index * 70}ms`}
          >
            <span class="os-phase-label">{phase.label}</span>
            <div>
              <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                {phase.title}
              </h3>
              <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
                {phase.description}
              </p>
              <p class="mt-3 text-xs uppercase tracking-[0.35em] text-accent">
                {phase.meta}
              </p>
            </div>
          </li>
        ))
      }
    </ol>
  </section>

  <section id="ai-teams" class="section-shell space-y-8" data-reveal>
    <div class="space-y-4 text-center">
      <p class="text-xs uppercase tracking-[0.4em] text-accent/80">
        {homepageData.aiTeams.eyebrow}
      </p>
      <h2
        class="text-3xl font-semibold text-gray-900 sm:text-4xl dark:text-white"
      >
        {homepageData.aiTeams.title}
      </h2>
      <p class="mx-auto max-w-3xl text-base text-gray-600 dark:text-gray-300">
        {homepageData.aiTeams.subtitle}
      </p>
      <p class="text-sm text-gray-500 dark:text-gray-400">
        {homepageData.aiTeams.note}
      </p>
    </div>
    <div class="space-y-8">
      {
        homepageData.aiTeams.groups.map((group, groupIndex) => (
          <div class="space-y-5">
            <div
              class="flex flex-col gap-1"
              data-reveal
              style={`--reveal-delay:${groupIndex * 50}ms`}
            >
              <p class="text-xs uppercase tracking-[0.4em] text-accent/70">
                {group.name}
              </p>
              <p class="text-sm text-gray-500 dark:text-gray-400">
                {group.description}
              </p>
            </div>
            <div class="grid gap-5 md:grid-cols-3">
              {group.members.map((member, memberIndex) => (
                <div
                  class="ai-card"
                  data-reveal
                  style={`--reveal-delay:${memberIndex * 60}ms`}
                >
                  <div class="flex items-start justify-between gap-3">
                    <div>
                      <p class="text-sm uppercase tracking-[0.4em] text-gray-500">
                        AI
                      </p>
                      <h3 class="text-2xl font-semibold text-gray-900 dark:text-white">
                        {member.name}
                      </h3>
                    </div>
                    <div class="flex flex-col items-end gap-1 text-right">
                      <span class="text-xs font-semibold uppercase tracking-[0.4em] text-accent">
                        {member.role}
                      </span>
                      {member.status && (
                        <span class={getMemberStatusClass(member.status)}>
                          {getMemberStatusLabel(
                            member.status,
                            member.statusLabel
                          )}
                        </span>
                      )}
                    </div>
                  </div>
                  <p class="mt-3 text-xs text-gray-500">{member.strengths}</p>
                  <p class="mt-4 text-sm text-gray-600 dark:text-gray-300">
                    {member.bio}
                  </p>
                </div>
              ))}
            </div>
          </div>
        ))
      }
    </div>
  </section>

  <ToolStackSection id="tools" data={homepageData.tools} />

  <section class="section-shell space-y-8" data-reveal>
    <div class="space-y-3">
      <p class="text-xs uppercase tracking-[0.4em] text-accent/80">
        {homepageData.testimonials.eyebrow}
      </p>
      <h2 class="text-3xl font-semibold text-gray-900 dark:text-white">
        {homepageData.testimonials.title}
      </h2>
      <p class="max-w-2xl text-base text-gray-600 dark:text-gray-300">
        {homepageData.testimonials.description}
      </p>
    </div>
    <div class="grid gap-5 md:grid-cols-3">
      {
        homepageData.testimonials.quotes.map((quote, index) => (
          <blockquote
            class="quote-card"
            data-reveal
            style={`--reveal-delay:${index * 60}ms`}
          >
            <p class="text-base leading-relaxed text-gray-800 dark:text-gray-100">
              “{quote.quote}”
            </p>
            <footer class="mt-4 text-sm text-gray-500">
              {quote.author} · {quote.role}
            </footer>
          </blockquote>
        ))
      }
    </div>
  </section>

  <section class="section-shell about-section" data-reveal>
    <div class="grid gap-6 lg:grid-cols-[1.1fr_0.9fr]">
      <div
        class="rounded-3xl border border-gray-200/60 bg-white/70 p-8 dark:border-gray-800/80 dark:bg-gray-900/60"
      >
        <p class="text-xs uppercase tracking-[0.4em] text-accent/80">
          {homepageData.about.eyebrow}
        </p>
        <h2 class="mt-3 text-3xl font-semibold text-gray-900 dark:text-white">
          {homepageData.about.title}
        </h2>
        <p class="mt-2 text-base text-gray-500">
          {homepageData.about.subtitle}
        </p>
        <div class="mt-6 space-y-4">
          {
            homepageData.about.body.map((paragraph) => (
              <p class="text-base text-gray-600 dark:text-gray-300">
                {paragraph}
              </p>
            ))
          }
        </div>
      </div>
      <div class="space-y-6">
        <div class="grid gap-4">
          {
            homepageData.about.pillars.map((pillar, index) => (
              <div
                class="rounded-2xl border border-gray-200/60 bg-white/60 p-5 text-gray-900 dark:border-gray-800/70 dark:bg-gray-900/60 dark:text-white"
                data-reveal
                style={`--reveal-delay:${index * 40}ms`}
              >
                <p class="text-xs uppercase tracking-[0.4em] text-accent/70">
                  {pillar.title}
                </p>
                <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
                  {pillar.detail}
                </p>
              </div>
            ))
          }
        </div>
        <div
          class="grid grid-cols-3 gap-3 rounded-2xl border border-gray-200/60 bg-white/70 p-4 text-center dark:border-gray-800/70 dark:bg-gray-900/60"
        >
          {
            homepageData.about.stats.map((stat) => (
              <div>
                <p class="text-2xl font-semibold text-gray-900 dark:text-white">
                  {stat.value}
                </p>
                <p class="text-xs uppercase tracking-[0.3em] text-gray-500">
                  {stat.label}
                </p>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>

  <section
    class="contact-shell relative overflow-hidden rounded-3xl border border-gray-900/10 bg-gradient-to-br from-gray-900 via-gray-800 to-black p-10 text-white"
    data-reveal
  >
    <div class="space-y-5 text-center">
      <p class="text-xs uppercase tracking-[0.5em] text-white/50">
        {homepageData.contact.eyebrow}
      </p>
      <h2 class="text-3xl font-semibold">{homepageData.contact.title}</h2>
      <p class="mx-auto max-w-2xl text-base text-white/70">
        {homepageData.contact.description}
      </p>
      <div class="flex flex-col justify-center gap-3 sm:flex-row">
        <a
          href={homepageData.contact.primaryCta.href}
          class="inline-flex items-center justify-center gap-2 rounded-2xl bg-white px-6 py-3 font-semibold text-gray-900"
        >
          {homepageData.contact.primaryCta.label}
        </a>
        <a
          href={homepageData.contact.secondaryCta.href}
          class="inline-flex items-center justify-center gap-2 rounded-2xl border border-white/40 px-6 py-3 font-semibold text-white"
        >
          {homepageData.contact.secondaryCta.label}
        </a>
      </div>
      <p class="text-xs uppercase tracking-[0.4em] text-white/40">
        {homepageData.contact.note}
      </p>
    </div>
  </section>
</div>

<script>
  document.documentElement.classList.add('reveal-enabled')

  const initRevealAnimations = () => {
    const elements = Array.from(
      document.querySelectorAll('[data-reveal]')
    ) as HTMLElement[]

    if (!elements.length) return

    const prefersReducedMotion = window.matchMedia(
      '(prefers-reduced-motion: reduce)'
    ).matches

    if (prefersReducedMotion) {
      elements.forEach((el) => el.classList.add('is-visible'))
      return
    }

    const observer = new IntersectionObserver(
      (entries, obs) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible')
            obs.unobserve(entry.target)
          }
        })
      },
      {
        threshold: 0.15,
        rootMargin: '0px 0px -10% 0px'
      }
    )

    elements.forEach((element) => {
      if (!element.classList.contains('is-visible')) {
        observer.observe(element)
      }
    })
  }

  const registerReveal = () => {
    requestAnimationFrame(initRevealAnimations)
  }

  registerReveal()
  document.addEventListener('astro:page-load', registerReveal)
  document.addEventListener('astro:after-swap', registerReveal)
</script>

<style is:global>
  :where(:root:not(.reveal-enabled)) [data-reveal] {
    opacity: 1;
    transform: none;
  }

  .reveal-enabled [data-reveal] {
    opacity: 0;
    transform: translateY(32px) scale(0.97);
    transition:
      opacity 0.8s ease,
      transform 0.8s ease;
    transition-delay: var(--reveal-delay, 0ms);
  }

  [data-reveal].is-visible {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  .homepage-shell {
    --tur-base: #01030b;
    --tur-panel: rgba(6, 11, 26, 0.96);
    --tur-panel-alt: rgba(10, 16, 34, 0.9);
    --tur-panel-soft: rgba(17, 24, 56, 0.82);
    --tur-border: rgba(148, 163, 184, 0.25);
    --tur-border-soft: rgba(148, 163, 184, 0.14);
    --tur-border-strong: rgba(255, 255, 255, 0.25);
    --tur-text-strong: #f8fafc;
    --tur-text-muted: rgba(226, 232, 240, 0.84);
    --tur-text-soft: rgba(148, 163, 184, 0.68);
    --tur-amber: #ff914d;
    --tur-cyan: #4be1ff;
    --tur-violet: #c084fc;
    color: var(--tur-text-muted);
  }

  .hero-shell {
    box-shadow: 0 55px 150px rgba(2, 6, 23, 0.75);
    background:
      radial-gradient(
        circle at 20% 20%,
        rgba(116, 185, 255, 0.15),
        transparent 55%
      ),
      radial-gradient(
        circle at 80% 0%,
        rgba(255, 145, 77, 0.3),
        transparent 45%
      ),
      #04060f;
  }

  .hero-badge {
    border-radius: 9999px;
    border: 1px solid rgba(255, 255, 255, 0.25);
    padding: 0.4rem 0.85rem;
    background: rgba(255, 255, 255, 0.05);
    font-size: 0.75rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
  }

  .glass-panel {
    min-height: 100%;
  }

  .hero-sheen {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(
      circle at 50% 50%,
      rgba(14, 165, 233, 0.2),
      transparent 60%
    );
    filter: blur(25px);
  }

  .hero-panel {
    border-radius: 28px;
    border: 1px solid var(--tur-border-soft);
    background: rgba(4, 7, 18, 0.7);
    padding: 1.5rem;
    backdrop-filter: blur(18px);
  }

  .hero-stats-grid {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
  }

  .hero-stat {
    border-radius: 20px;
    border: 1px solid var(--tur-border-soft);
    background: rgba(255, 255, 255, 0.04);
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    min-height: 130px;
    justify-content: center;
    align-items: center;
    text-align: center;
  }

  .hero-stat-label {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.35em;
    color: rgba(255, 255, 255, 0.6);
  }

  .hero-stat-value {
    font-size: clamp(2rem, 3vw, 2.75rem);
    font-weight: 600;
    color: var(--tur-text-strong);
  }

  .hero-stat-detail {
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.7);
  }

  .hero-badge,
  .hero-signal-chip,
  .hero-highlight,
  .hero-window-card {
    color: inherit;
  }

  .hero-signal-chip {
    border-radius: 9999px;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.18);
    padding: 0.35rem 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    font-size: 0.7rem;
  }

  .hero-highlight {
    border-radius: 18px;
    border: 1px solid var(--tur-border-soft);
    background: rgba(255, 255, 255, 0.03);
    padding: 1rem;
  }

  .hero-divider {
    height: 1px;
    width: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.35),
      transparent
    );
  }

  .hero-window-card {
    border-radius: 18px;
    border: 1px solid var(--tur-border-soft);
    background: rgba(255, 255, 255, 0.03);
    padding: 0.9rem 1rem;
  }

  .section-eyebrow {
    font-size: 0.65rem;
    text-transform: uppercase;
    letter-spacing: 0.4em;
    color: var(--tur-text-soft);
  }

  .section-shell {
    border-radius: 32px;
    border: 1px solid var(--tur-border);
    background: linear-gradient(135deg, var(--tur-panel), rgba(3, 6, 18, 0.88));
    padding: clamp(1.75rem, 3vw, 3rem);
    box-shadow: 0 35px 90px rgba(2, 6, 23, 0.65);
  }

  .section-shell
    :is(
      .text-gray-900,
      .text-slate-900,
      .text-gray-800,
      .text-slate-800,
      .text-gray-700,
      .text-slate-700,
      .text-white
    ) {
    color: var(--tur-text-strong);
  }

  .section-shell
    :is(.text-gray-600, .text-slate-600, .text-gray-500, .text-slate-500) {
    color: var(--tur-text-muted);
  }

  .section-shell
    :is(.text-gray-400, .text-slate-400, .text-gray-300, .text-slate-300) {
    color: var(--tur-text-soft);
  }

  .filter-chip {
    border-radius: 9999px;
    border: 1px solid var(--tur-border);
    padding: 0.35rem 1rem;
    font-size: 0.75rem;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--tur-text-muted);
    background: rgba(255, 255, 255, 0.04);
  }

  .filter-chip:hover {
    color: var(--tur-text-strong);
    border-color: var(--tur-border-strong);
  }

  .venture-card {
    border-radius: 28px;
    border: 1px solid var(--tur-border);
    background: var(--tur-panel-alt);
    padding: 1.75rem;
    position: relative;
    overflow: hidden;
  }

  .venture-card::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(
      circle at top right,
      rgba(255, 145, 77, 0.25),
      transparent 55%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  .venture-card:hover::after {
    opacity: 1;
  }

  .status-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    border-radius: 9999px;
    border: 1px solid var(--tur-border-strong);
    padding: 0.25rem 0.9rem;
    font-size: 0.72rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    white-space: nowrap;
  }

  .status-dot {
    width: 0.45rem;
    height: 0.45rem;
    border-radius: 9999px;
    box-shadow: 0 0 12px currentColor;
  }

  .ai-status-pill {
    display: inline-flex;
    align-items: center;
    border-radius: 9999px;
    border: 1px solid var(--tur-border);
    padding: 0.15rem 0.65rem;
    font-size: 0.62rem;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: var(--tur-text-soft);
  }

  .ai-status-pill--active {
    color: #34d399;
    border-color: rgba(16, 185, 129, 0.4);
    background: rgba(16, 185, 129, 0.08);
  }

  .ai-status-pill--hiring {
    color: #facc15;
    border-color: rgba(251, 191, 36, 0.35);
    background: rgba(251, 191, 36, 0.08);
  }

  .signals-grid {
    padding: clamp(1.75rem, 3vw, 3rem);
  }

  .signal-chip {
    border-radius: 9999px;
    border: 1px dashed var(--tur-border-soft);
    padding: 0.4rem 0.95rem;
    font-size: calc(0.75rem + (var(--signal-index, 0) * 0.01rem));
    letter-spacing: 0.18em;
    text-transform: uppercase;
    background: rgba(255, 255, 255, 0.04);
    color: var(--tur-text-muted);
  }

  .signal-card {
    border-radius: 20px;
    border: 1px solid var(--tur-border-soft);
    background: rgba(255, 255, 255, 0.03);
    padding: 1.25rem;
  }

  .os-stack {
    border-radius: 28px;
    border: 1px solid var(--tur-border);
    background: linear-gradient(
      145deg,
      var(--tur-panel-alt),
      rgba(3, 6, 18, 0.85)
    );
    padding: 2rem;
    color: var(--tur-text-muted);
  }

  .os-timeline {
    position: relative;
    border-left: 1px solid var(--tur-border-soft);
    margin-left: 1.5rem;
    padding-left: 2rem;
  }

  .os-phase {
    position: relative;
    padding: 1.5rem 0;
  }

  .os-phase::before {
    content: '';
    position: absolute;
    left: -2.1rem;
    top: 1.9rem;
    width: 0.8rem;
    height: 0.8rem;
    border-radius: 9999px;
    background: linear-gradient(120deg, var(--tur-amber), var(--tur-cyan));
    box-shadow: 0 0 12px rgba(255, 145, 77, 0.5);
  }

  .os-phase-label {
    display: inline-flex;
    border-radius: 9999px;
    border: 1px solid var(--tur-border-soft);
    padding: 0.3rem 0.9rem;
    font-size: 0.7rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: var(--tur-text-soft);
  }

  .ai-card,
  .quote-card,
  .pillar-card {
    border-radius: 24px;
    border: 1px solid var(--tur-border);
    background: var(--tur-panel-alt);
    padding: 1.5rem;
  }

  .ai-card {
    box-shadow: 0 25px 70px rgba(2, 6, 23, 0.55);
  }

  .role-chip {
    border-radius: 9999px;
    border: 1px solid var(--tur-border-soft);
    padding: 0.3rem 0.9rem;
    font-size: 0.65rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: var(--tur-text-soft);
  }

  .about-section .rounded-3xl,
  .about-section .rounded-2xl,
  .about-section .grid.grid-cols-3 {
    background: var(--tur-panel-alt);
    border: 1px solid var(--tur-border);
    color: var(--tur-text-muted);
  }

  .about-section .rounded-3xl h2,
  .about-section .rounded-2xl h2,
  .about-section .grid.grid-cols-3 p:first-child {
    color: var(--tur-text-strong);
  }

  .contact-shell {
    border-radius: 36px;
    border: 1px solid var(--tur-border-strong);
    background:
      radial-gradient(
        circle at 15% 20%,
        rgba(255, 145, 77, 0.35),
        transparent 55%
      ),
      radial-gradient(
        circle at 80% 0%,
        rgba(75, 225, 255, 0.25),
        transparent 45%
      ),
      #04060f;
    box-shadow: 0 45px 120px rgba(2, 6, 23, 0.7);
  }

  @media (prefers-reduced-motion: reduce) {
    [data-reveal] {
      opacity: 1;
      transform: none;
      transition: none;
    }
  }
</style>
