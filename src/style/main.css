@import 'color-schemes.css';
@import 'astro-code.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    @apply bg-accent-bg selection:bg-accent/75 overflow-y-scroll scroll-smooth underline-offset-4 selection:text-white selection:dark:text-black;

    #page-wrapper {
      @apply flex min-h-[100svh] w-full flex-col justify-between;
    }
  }

  /* Responsive typography base */
  html {
    @apply text-sm sm:text-base;
  }

  /* Better touch targets for mobile */
  button, 
  .clickable,
  a {
    @apply min-h-[44px] sm:min-h-0 min-w-[44px] sm:min-w-0 flex items-center justify-center;
  }

  /* Responsive images */
  img {
    @apply max-w-full h-auto;
  }

  ::-webkit-scrollbar {
    @apply h-2 w-2;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-accent/75;
  }

  ::-webkit-scrollbar-track {
    @apply bg-accent/25;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-accent/100;
  }
}

@layer utilities {
  .clickable {
    @apply hover:text-accent cursor-pointer opacity-75 transition duration-500 ease-in-out hover:opacity-100;
  }

  .animate-links {
    a {
      background-image: linear-gradient(
        transparent calc(85% - 5px),
        rgba(var(--accent), 0.35) 5px
      );
      background-size: 0;
      background-repeat: no-repeat;
      display: inline;
      transition: 0.5s cubic-bezier(0.65, -0.05, 0.25, 1);

      &:hover {
        background-size: 100%;
      }
    }
  }

  img[data-img-embed=''],
  img[data-img-embed='true'] {
    @apply border-accent rounded border;
  }

  /* Pillar callout styling - blockquotes that start with "Part of our" */
  .prose blockquote:has(> p:first-child strong:has-text("Part of our")) {
    @apply border-l-4 border-accent bg-slate-900/70 rounded-r-lg p-6 my-8 not-italic;
  }

  .prose blockquote:has(> p:first-child strong:has-text("Part of our")) > p {
    @apply text-slate-200 leading-relaxed;
  }

  .prose blockquote:has(> p:first-child strong:has-text("Part of our")) > p:first-child {
    @apply font-semibold text-slate-100 mb-2;
  }

  .prose blockquote:has(> p:first-child strong:has-text("Part of our")) a {
    @apply text-accent font-semibold hover:underline;
  }

  /* Related Resources section styling */
  .prose h2:has-text("Related Resources") {
    @apply mt-16 mb-6 text-2xl font-semibold text-slate-100 border-t border-slate-800 pt-8;
  }

  .prose h2:has-text("Related Resources") + ul {
    @apply list-none pl-0 space-y-3;
  }

  .prose h2:has-text("Related Resources") + ul li {
    @apply my-0;
  }

  .prose h2:has-text("Related Resources") + ul li a {
    @apply text-accent font-medium hover:underline inline-flex items-center gap-2;
  }

  .prose h2:has-text("Related Resources") + ul li a::before {
    content: "â†’";
    @apply text-slate-500;
  }
}
